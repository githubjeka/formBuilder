/*
formBuilder - http://kevinchappell.github.io/formBuilder/
Version: 1.3.0
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
"use strict";!function(e){e.fn.formRender=function(t){var r=e(this),a={destroyTemplate:!0,container:!1},n={},i=e.extend(a,t);n.markup=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2];t=n.attrString(t),r=Array.isArray(r)?r.join(""):r;var a=["input"],i=-1===a.indexOf(e)?"<"+e+" "+t+">"+r+"</"+e+">":"<"+e+" "+t+"/>";return i},n.fieldRender=function(t){var r="",a="",i=n.parseAttrs(t.attributes),o=(i.description,e("option",t));i.id=i.name,"checkbox"!==i.type&&(i["class"]="form-control");var s='<label for="'+i.id+'">'+i.label+"</label>";delete i.label,delete i.description;var c=n.attrString(i);switch(i.type){case"textarea":case"rich-text":delete i.type,delete i.value,r=s+"<textarea "+c+"></textarea>";break;case"select":i.type=i.type.replace("-group",""),o.length&&o.each(function(e,t){var r=n.parseAttrs(t.attributes),i=n.attrString(r);a+="<option "+i+">"+t.innerHTML+"</option>"}),r=s+"<select "+c+">"+a+"</select>";break;case"checkbox-group":case"radio-group":i.type=i.type.replace("-group",""),delete i["class"],o.length&&!function(){var t=i.name+"[]";o.each(function(r,o){var s=e.extend(i,n.parseAttrs(o.attributes));s.name=t,s.id=i.id+"-"+r;var c=n.attrString(s);a+="<input "+c+' /> <label for="'+s.id+'">'+o.innerHTML+"</label><br>"})}(),r=s+'<div class="'+i.type+'-group">'+a+"</div>";break;case"text":case"password":case"email":case"date":case"autocomplete":r=s+" <input "+c+">";break;case"checkbox":r="<input "+c+"> "+s,i.toggle&&setTimeout(function(){e(document.getElementById(i.id)).kcToggle()},100);break;default:r="<"+i.type+"></"+i.type+">"}return'<div class="form-group">'+r+"</div>"},n.attrString=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+'="'+e[r]+'"');return t.join(" ")},n.parseAttrs=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r].nodeName]=e[r].nodeValue);return t},this.each(function(){var t=[],a=e.parseXML(r.val()),o=e("field",a);e("settings",a);if(!a)return alert("No formData. Add some fields and try again"),!1;o.length&&o.each(function(e,r){e=e,t.push(n.fieldRender(r))});var s=t.join("");i.container&&i.container.length?i.container.html(s):r.replaceWith(s)})}}(jQuery);